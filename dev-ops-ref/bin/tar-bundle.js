/* esm.sh - esbuild bundle(tar@6.1.6) es2020 production */
import __string_decoder$ from "/v43/string_decoder@1.3.0/es2020/string_decoder.bundle.js";import __util$ from "/v43/util@0.12.4/es2020/util.bundle.js";import __assert$ from "/v43/assert@2.0.0/es2020/assert.bundle.js";import __fs$ from "/error.js?type=unsupported-nodejs-builtin-module&name=fs&importer=tar";import __events$ from "/v43/events@3.3.0/es2020/events.bundle.js";import __path$ from "/v43/path-browserify@1.0.1/es2020/path-browserify.bundle.js";import __buffer$ from "/v43/node_buffer.js";import __stream$ from "/v43/stream-browserify@3.0.0/es2020/stream-browserify.bundle.js";import __zlib$ from "/v43/browserify-zlib@0.2.0/es2020/browserify-zlib.bundle.js";import __crypto$ from "/v43/crypto-browserify@3.12.0/es2020/crypto-browserify.bundle.js";import __process$ from "/v43/node_process.js";__process$.env.NODE_ENV="production";import { Buffer as __Buffer$ } from "/v43/node_buffer.js";var __global$ = window;var dh=Object.create;var Xe=Object.defineProperty;var mh=Object.getOwnPropertyDescriptor;var ph=Object.getOwnPropertyNames;var Eh=Object.getPrototypeOf,yh=Object.prototype.hasOwnProperty;var Sh=s=>Xe(s,"__esModule",{value:!0});var d=s=>{if(typeof require!="undefined")return require(s);throw new Error('Dynamic require of "'+s+'" is not supported')};var p=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var Rh=(s,t,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ph(t))!yh.call(s,i)&&i!=="default"&&Xe(s,i,{get:()=>t[i],enumerable:!(e=mh(t,i))||e.enumerable});return s},Ei=s=>Rh(Sh(Xe(s!=null?dh(Eh(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);var Ot=p((ql,Si)=>{"use strict";var yi=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);Si.exports=s=>s?Object.keys(s).map(t=>[yi.has(t)?yi.get(t):t,s[t]]).reduce((t,e)=>(t[e[0]]=e[1],t),Object.create(null)):{}});var _i=p((Ul,Ri)=>{"use strict";Ri.exports=function(s){s.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var ne=p((zl,wi)=>{"use strict";wi.exports=S;S.Node=ct;S.create=S;function S(s){var t=this;if(t instanceof S||(t=new S),t.tail=null,t.head=null,t.length=0,s&&typeof s.forEach=="function")s.forEach(function(r){t.push(r)});else if(arguments.length>0)for(var e=0,i=arguments.length;e<i;e++)t.push(arguments[e]);return t}S.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var t=s.next,e=s.prev;return t&&(t.prev=e),e&&(e.next=t),s===this.head&&(this.head=t),s===this.tail&&(this.tail=e),s.list.length--,s.next=null,s.prev=null,s.list=null,t};S.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var t=this.head;s.list=this,s.next=t,t&&(t.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}};S.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var t=this.tail;s.list=this,s.prev=t,t&&(t.next=s),this.tail=s,this.head||(this.head=s),this.length++}};S.prototype.push=function(){for(var s=0,t=arguments.length;s<t;s++)wh(this,arguments[s]);return this.length};S.prototype.unshift=function(){for(var s=0,t=arguments.length;s<t;s++)gh(this,arguments[s]);return this.length};S.prototype.pop=function(){if(!!this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}};S.prototype.shift=function(){if(!!this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}};S.prototype.forEach=function(s,t){t=t||this;for(var e=this.head,i=0;e!==null;i++)s.call(t,e.value,i,this),e=e.next};S.prototype.forEachReverse=function(s,t){t=t||this;for(var e=this.tail,i=this.length-1;e!==null;i--)s.call(t,e.value,i,this),e=e.prev};S.prototype.get=function(s){for(var t=0,e=this.head;e!==null&&t<s;t++)e=e.next;if(t===s&&e!==null)return e.value};S.prototype.getReverse=function(s){for(var t=0,e=this.tail;e!==null&&t<s;t++)e=e.prev;if(t===s&&e!==null)return e.value};S.prototype.map=function(s,t){t=t||this;for(var e=new S,i=this.head;i!==null;)e.push(s.call(t,i.value,this)),i=i.next;return e};S.prototype.mapReverse=function(s,t){t=t||this;for(var e=new S,i=this.tail;i!==null;)e.push(s.call(t,i.value,this)),i=i.prev;return e};S.prototype.reduce=function(s,t){var e,i=this.head;if(arguments.length>1)e=t;else if(this.head)i=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=0;i!==null;r++)e=s(e,i.value,r),i=i.next;return e};S.prototype.reduceReverse=function(s,t){var e,i=this.tail;if(arguments.length>1)e=t;else if(this.tail)i=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;i!==null;r--)e=s(e,i.value,r),i=i.prev;return e};S.prototype.toArray=function(){for(var s=new Array(this.length),t=0,e=this.head;e!==null;t++)s[t]=e.value,e=e.next;return s};S.prototype.toArrayReverse=function(){for(var s=new Array(this.length),t=0,e=this.tail;e!==null;t++)s[t]=e.value,e=e.prev;return s};S.prototype.slice=function(s,t){t=t||this.length,t<0&&(t+=this.length),s=s||0,s<0&&(s+=this.length);var e=new S;if(t<s||t<0)return e;s<0&&(s=0),t>this.length&&(t=this.length);for(var i=0,r=this.head;r!==null&&i<s;i++)r=r.next;for(;r!==null&&i<t;i++,r=r.next)e.push(r.value);return e};S.prototype.sliceReverse=function(s,t){t=t||this.length,t<0&&(t+=this.length),s=s||0,s<0&&(s+=this.length);var e=new S;if(t<s||t<0)return e;s<0&&(s=0),t>this.length&&(t=this.length);for(var i=this.length,r=this.tail;r!==null&&i>t;i--)r=r.prev;for(;r!==null&&i>s;i--,r=r.prev)e.push(r.value);return e};S.prototype.splice=function(s,t,...e){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var i=0,r=this.head;r!==null&&i<s;i++)r=r.next;for(var n=[],i=0;r&&i<t;i++)n.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var i=0;i<e.length;i++)r=_h(this,r,e[i]);return n};S.prototype.reverse=function(){for(var s=this.head,t=this.tail,e=s;e!==null;e=e.prev){var i=e.prev;e.prev=e.next,e.next=i}return this.head=t,this.tail=s,this};function _h(s,t,e){var i=t===s.head?new ct(e,null,t,s):new ct(e,t,t.next,s);return i.next===null&&(s.tail=i),i.prev===null&&(s.head=i),s.length++,i}function wh(s,t){s.tail=new ct(t,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function gh(s,t){s.head=new ct(t,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function ct(s,t,e,i){if(!(this instanceof ct))return new ct(s,t,e,i);this.list=i,this.value=s,t?(t.next=this,this.prev=t):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{_i()(S)}catch(s){}});var Tt=p((Hl,Ii)=>{"use strict";var bh=__events$,gi=__stream$,Gt=ne(),bi=__string_decoder$.StringDecoder,j=Symbol("EOF"),Yt=Symbol("maybeEmitEnd"),J=Symbol("emittedEnd"),he=Symbol("emittingEnd"),oe=Symbol("closed"),Oi=Symbol("read"),$e=Symbol("flush"),Ti=Symbol("flushChunk"),I=Symbol("encoding"),K=Symbol("decoder"),le=Symbol("flowing"),Zt=Symbol("paused"),jt=Symbol("resume"),L=Symbol("bufferLength"),Ni=Symbol("bufferPush"),Qe=Symbol("bufferShift"),N=Symbol("objectMode"),D=Symbol("destroyed"),Di=__global$._MP_NO_ITERATOR_SYMBOLS_!=="1",Oh=Di&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Th=Di&&Symbol.iterator||Symbol("iterator not implemented"),Li=s=>s==="end"||s==="finish"||s==="prefinish",Nh=s=>s instanceof ArrayBuffer||typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,Dh=s=>!__Buffer$.isBuffer(s)&&ArrayBuffer.isView(s);Ii.exports=class Ai extends gi{constructor(t){super();this[le]=!1,this[Zt]=!1,this.pipes=new Gt,this.buffer=new Gt,this[N]=t&&t.objectMode||!1,this[N]?this[I]=null:this[I]=t&&t.encoding||null,this[I]==="buffer"&&(this[I]=null),this[K]=this[I]?new bi(this[I]):null,this[j]=!1,this[J]=!1,this[he]=!1,this[oe]=!1,this.writable=!0,this.readable=!0,this[L]=0,this[D]=!1}get bufferLength(){return this[L]}get encoding(){return this[I]}set encoding(t){if(this[N])throw new Error("cannot set encoding in objectMode");if(this[I]&&t!==this[I]&&(this[K]&&this[K].lastNeed||this[L]))throw new Error("cannot change encoding");this[I]!==t&&(this[K]=t?new bi(t):null,this.buffer.length&&(this.buffer=this.buffer.map(e=>this[K].write(e)))),this[I]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[N]}set objectMode(t){this[N]=this[N]||!!t}write(t,e,i){if(this[j])throw new Error("write after end");return this[D]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof e=="function"&&(i=e,e="utf8"),e||(e="utf8"),!this[N]&&!__Buffer$.isBuffer(t)&&(Dh(t)?t=__Buffer$.from(t.buffer,t.byteOffset,t.byteLength):Nh(t)?t=__Buffer$.from(t):typeof t!="string"&&(this.objectMode=!0)),!this.objectMode&&!t.length?(this[L]!==0&&this.emit("readable"),i&&i(),this.flowing):(typeof t=="string"&&!this[N]&&!(e===this[I]&&!this[K].lastNeed)&&(t=__Buffer$.from(t,e)),__Buffer$.isBuffer(t)&&this[I]&&(t=this[K].write(t)),this.flowing?(this[L]!==0&&this[$e](!0),this.emit("data",t)):this[Ni](t),this[L]!==0&&this.emit("readable"),i&&i(),this.flowing))}read(t){if(this[D])return null;try{return this[L]===0||t===0||t>this[L]?null:(this[N]&&(t=null),this.buffer.length>1&&!this[N]&&(this.encoding?this.buffer=new Gt([Array.from(this.buffer).join("")]):this.buffer=new Gt([__Buffer$.concat(Array.from(this.buffer),this[L])])),this[Oi](t||null,this.buffer.head.value))}finally{this[Yt]()}}[Oi](t,e){return t===e.length||t===null?this[Qe]():(this.buffer.head.value=e.slice(t),e=e.slice(0,t),this[L]-=t),this.emit("data",e),!this.buffer.length&&!this[j]&&this.emit("drain"),e}end(t,e,i){return typeof t=="function"&&(i=t,t=null),typeof e=="function"&&(i=e,e="utf8"),t&&this.write(t,e),i&&this.once("end",i),this[j]=!0,this.writable=!1,(this.flowing||!this[Zt])&&this[Yt](),this}[jt](){this[D]||(this[Zt]=!1,this[le]=!0,this.emit("resume"),this.buffer.length?this[$e]():this[j]?this[Yt]():this.emit("drain"))}resume(){return this[jt]()}pause(){this[le]=!1,this[Zt]=!0}get destroyed(){return this[D]}get flowing(){return this[le]}get paused(){return this[Zt]}[Ni](t){return this[N]?this[L]+=1:this[L]+=t.length,this.buffer.push(t)}[Qe](){return this.buffer.length&&(this[N]?this[L]-=1:this[L]-=this.buffer.head.value.length),this.buffer.shift()}[$e](t){do;while(this[Ti](this[Qe]()));!t&&!this.buffer.length&&!this[j]&&this.emit("drain")}[Ti](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,e){if(this[D])return;let i=this[J];e=e||{},t===__process$.stdout||t===__process$.stderr?e.end=!1:e.end=e.end!==!1;let r={dest:t,opts:e,ondrain:n=>this[jt]()};return this.pipes.push(r),t.on("drain",r.ondrain),this[jt](),i&&r.opts.end&&r.dest.end(),t}addListener(t,e){return this.on(t,e)}on(t,e){try{return super.on(t,e)}finally{t==="data"&&!this.pipes.length&&!this.flowing?this[jt]():Li(t)&&this[J]&&(super.emit(t),this.removeAllListeners(t))}}get emittedEnd(){return this[J]}[Yt](){!this[he]&&!this[J]&&!this[D]&&this.buffer.length===0&&this[j]&&(this[he]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[oe]&&this.emit("close"),this[he]=!1)}emit(t,e){if(t!=="error"&&t!=="close"&&t!==D&&this[D])return;if(t==="data"){if(!e)return;this.pipes.length&&this.pipes.forEach(r=>r.dest.write(e)===!1&&this.pause())}else if(t==="end"){if(this[J]===!0)return;this[J]=!0,this.readable=!1,this[K]&&(e=this[K].end(),e&&(this.pipes.forEach(r=>r.dest.write(e)),super.emit("data",e))),this.pipes.forEach(r=>{r.dest.removeListener("drain",r.ondrain),r.opts.end&&r.dest.end()})}else if(t==="close"&&(this[oe]=!0,!this[J]&&!this[D]))return;let i=new Array(arguments.length);if(i[0]=t,i[1]=e,arguments.length>2)for(let r=2;r<arguments.length;r++)i[r]=arguments[r];try{return super.emit.apply(this,i)}finally{Li(t)?this.removeAllListeners(t):this[Yt]()}}collect(){let t=[];this[N]||(t.dataLength=0);let e=this.promise();return this.on("data",i=>{t.push(i),this[N]||(t.dataLength+=i.length)}),e.then(()=>t)}concat(){return this[N]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[N]?Promise.reject(new Error("cannot concat in objectMode")):this[I]?t.join(""):__Buffer$.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(D,()=>e(new Error("stream destroyed"))),this.on("end",()=>t()),this.on("error",i=>e(i))})}[Oh](){return{next:()=>{let e=this.read();if(e!==null)return Promise.resolve({done:!1,value:e});if(this[j])return Promise.resolve({done:!0});let i=null,r=null,n=c=>{this.removeListener("data",h),this.removeListener("end",o),r(c)},h=c=>{this.removeListener("error",n),this.removeListener("end",o),this.pause(),i({value:c,done:!!this[j]})},o=()=>{this.removeListener("error",n),this.removeListener("data",h),i({done:!0})},l=()=>n(new Error("stream destroyed"));return new Promise((c,a)=>{r=a,i=c,this.once(D,l),this.once("error",n),this.once("end",o),this.once("data",h)})}}}[Th](){return{next:()=>{let e=this.read();return{value:e,done:e===null}}}}destroy(t){return this[D]?(t?this.emit("error",t):this.emit(D),this):(this[D]=!0,this.buffer=new Gt,this[L]=0,typeof this.close=="function"&&!this[oe]&&this.close(),t?this.emit("error",t):this.emit(D),this)}static isStream(t){return!!t&&(t instanceof Ai||t instanceof gi||t instanceof bh&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var xi=p((Wl,vi)=>{var Lh=__zlib$.constants||{ZLIB_VERNUM:4736};vi.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Lh))});var os=p(C=>{"use strict";var Je=__assert$,tt=__buffer$.Buffer,Ci=__zlib$,ut=C.constants=xi(),Ah=Tt(),Mi=tt.concat,ft=Symbol("_superWrite"),Kt=class extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Ih=Symbol("opts"),Vt=Symbol("flushFlag"),Fi=Symbol("finishFlushFlag"),ts=Symbol("fullFlushFlag"),g=Symbol("handle"),ae=Symbol("onError"),Nt=Symbol("sawError"),es=Symbol("level"),ss=Symbol("strategy"),is=Symbol("ended"),Gl=Symbol("_defaultFullFlush"),rs=class extends Ah{constructor(t,e){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[Nt]=!1,this[is]=!1,this[Ih]=t,this[Vt]=t.flush,this[Fi]=t.finishFlush;try{this[g]=new Ci[e](t)}catch(i){throw new Kt(i)}this[ae]=i=>{this[Nt]||(this[Nt]=!0,this.close(),this.emit("error",i))},this[g].on("error",i=>this[ae](new Kt(i))),this.once("end",()=>this.close)}close(){this[g]&&(this[g].close(),this[g]=null,this.emit("close"))}reset(){if(!this[Nt])return Je(this[g],"zlib binding closed"),this[g].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[ts]),this.write(Object.assign(tt.alloc(0),{[Vt]:t})))}end(t,e,i){return t&&this.write(t,e),this.flush(this[Fi]),this[is]=!0,super.end(null,null,i)}get ended(){return this[is]}write(t,e,i){if(typeof e=="function"&&(i=e,e="utf8"),typeof t=="string"&&(t=tt.from(t,e)),this[Nt])return;Je(this[g],"zlib binding closed");let r=this[g]._handle,n=r.close;r.close=()=>{};let h=this[g].close;this[g].close=()=>{},tt.concat=c=>c;let o;try{let c=typeof t[Vt]=="number"?t[Vt]:this[Vt];o=this[g]._processChunk(t,c),tt.concat=Mi}catch(c){tt.concat=Mi,this[ae](new Kt(c))}finally{this[g]&&(this[g]._handle=r,r.close=n,this[g].close=h,this[g].removeAllListeners("error"))}this[g]&&this[g].on("error",c=>this[ae](new Kt(c)));let l;if(o)if(Array.isArray(o)&&o.length>0){l=this[ft](tt.from(o[0]));for(let c=1;c<o.length;c++)l=this[ft](o[c])}else l=this[ft](tt.from(o));return i&&i(),l}[ft](t){return super.write(t)}},et=class extends rs{constructor(t,e){t=t||{},t.flush=t.flush||ut.Z_NO_FLUSH,t.finishFlush=t.finishFlush||ut.Z_FINISH,super(t,e),this[ts]=ut.Z_FULL_FLUSH,this[es]=t.level,this[ss]=t.strategy}params(t,e){if(!this[Nt]){if(!this[g])throw new Error("cannot switch params when binding is closed");if(!this[g].params)throw new Error("not supported in this implementation");if(this[es]!==t||this[ss]!==e){this.flush(ut.Z_SYNC_FLUSH),Je(this[g],"zlib binding closed");let i=this[g].flush;this[g].flush=(r,n)=>{this.flush(r),n()};try{this[g].params(t,e)}finally{this[g].flush=i}this[g]&&(this[es]=t,this[ss]=e)}}}},Bi=class extends et{constructor(t){super(t,"Deflate")}},ki=class extends et{constructor(t){super(t,"Inflate")}},ns=Symbol("_portable"),Pi=class extends et{constructor(t){super(t,"Gzip");this[ns]=t&&!!t.portable}[ft](t){return this[ns]?(this[ns]=!1,t[9]=255,super[ft](t)):super[ft](t)}},qi=class extends et{constructor(t){super(t,"Gunzip")}},Ui=class extends et{constructor(t){super(t,"DeflateRaw")}},zi=class extends et{constructor(t){super(t,"InflateRaw")}},Hi=class extends et{constructor(t){super(t,"Unzip")}},hs=class extends rs{constructor(t,e){t=t||{},t.flush=t.flush||ut.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||ut.BROTLI_OPERATION_FINISH,super(t,e),this[ts]=ut.BROTLI_OPERATION_FLUSH}},Wi=class extends hs{constructor(t){super(t,"BrotliCompress")}},Gi=class extends hs{constructor(t){super(t,"BrotliDecompress")}};C.Deflate=Bi;C.Inflate=ki;C.Gzip=Pi;C.Gunzip=qi;C.DeflateRaw=Ui;C.InflateRaw=zi;C.Unzip=Hi;typeof Ci.BrotliCompress=="function"?(C.BrotliCompress=Wi,C.BrotliDecompress=Gi):C.BrotliCompress=C.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var ce=p((jl,Yi)=>{"use strict";var vh=Tt(),ls=Symbol("slurp");Yi.exports=class extends vh{constructor(t,e,i){super();switch(this.pause(),this.extended=e,this.globalExtended=i,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=t.path,this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=t.linkpath,this.uname=t.uname,this.gname=t.gname,e&&this[ls](e),i&&this[ls](i,!0)}write(t){let e=t.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");let i=this.remain,r=this.blockRemain;return this.remain=Math.max(0,i-e),this.blockRemain=Math.max(0,r-e),this.ignore?!0:i>=e?super.write(t):super.write(t.slice(0,i))}[ls](t,e){for(let i in t)t[i]!==null&&t[i]!==void 0&&!(e&&i==="path")&&(this[i]=t[i])}}});var as=p(ue=>{"use strict";ue.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);ue.code=new Map(Array.from(ue.name).map(s=>[s[1],s[0]]))});var Vi=p((Vl,Ki)=>{"use strict";var xh=(s,t)=>{if(Number.isSafeInteger(s))s<0?Mh(s,t):Ch(s,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},Ch=(s,t)=>{t[0]=128;for(var e=t.length;e>1;e--)t[e-1]=s&255,s=Math.floor(s/256)},Mh=(s,t)=>{t[0]=255;var e=!1;s=s*-1;for(var i=t.length;i>1;i--){var r=s&255;s=Math.floor(s/256),e?t[i-1]=Zi(r):r===0?t[i-1]=0:(e=!0,t[i-1]=ji(r))}},Fh=s=>{let t=s[0],e=t===128?kh(s.slice(1,s.length)):t===255?Bh(s):null;if(e===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(e))throw Error("parsed number outside of javascript safe integer range");return e},Bh=s=>{for(var t=s.length,e=0,i=!1,r=t-1;r>-1;r--){var n=s[r],h;i?h=Zi(n):n===0?h=n:(i=!0,h=ji(n)),h!==0&&(e-=h*Math.pow(256,t-r-1))}return e},kh=s=>{for(var t=s.length,e=0,i=t-1;i>-1;i--){var r=s[i];r!==0&&(e+=r*Math.pow(256,t-i-1))}return e},Zi=s=>(255^s)&255,ji=s=>(255^s)+1&255;Ki.exports={encode:xh,parse:Fh}});var Lt=p((Xl,Qi)=>{"use strict";var cs=as(),Dt=__path$.posix,Xi=Vi(),us=Symbol("slurp"),M=Symbol("type"),$i=class{constructor(t,e,i,r){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[M]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,__Buffer$.isBuffer(t)?this.decode(t,e||0,i,r):t&&this.set(t)}decode(t,e,i,r){if(e||(e=0),!t||!(t.length>=e+512))throw new Error("need 512 bytes for header");if(this.path=dt(t,e,100),this.mode=st(t,e+100,8),this.uid=st(t,e+108,8),this.gid=st(t,e+116,8),this.size=st(t,e+124,12),this.mtime=fs(t,e+136,12),this.cksum=st(t,e+148,12),this[us](i),this[us](r,!0),this[M]=dt(t,e+156,1),this[M]===""&&(this[M]="0"),this[M]==="0"&&this.path.substr(-1)==="/"&&(this[M]="5"),this[M]==="5"&&(this.size=0),this.linkpath=dt(t,e+157,100),t.slice(e+257,e+265).toString()==="ustar\x0000")if(this.uname=dt(t,e+265,32),this.gname=dt(t,e+297,32),this.devmaj=st(t,e+329,8),this.devmin=st(t,e+337,8),t[e+475]!==0){let h=dt(t,e+345,155);this.path=h+"/"+this.path}else{let h=dt(t,e+345,130);h&&(this.path=h+"/"+this.path),this.atime=fs(t,e+476,12),this.ctime=fs(t,e+488,12)}let n=8*32;for(let h=e;h<e+148;h++)n+=t[h];for(let h=e+156;h<e+512;h++)n+=t[h];this.cksumValid=n===this.cksum,this.cksum===null&&n===8*32&&(this.nullBlock=!0)}[us](t,e){for(let i in t)t[i]!==null&&t[i]!==void 0&&!(e&&i==="path")&&(this[i]=t[i])}encode(t,e){if(t||(t=this.block=__Buffer$.alloc(512),e=0),e||(e=0),!(t.length>=e+512))throw new Error("need 512 bytes for header");let i=this.ctime||this.atime?130:155,r=Ph(this.path||"",i),n=r[0],h=r[1];this.needPax=r[2],this.needPax=mt(t,e,100,n)||this.needPax,this.needPax=it(t,e+100,8,this.mode)||this.needPax,this.needPax=it(t,e+108,8,this.uid)||this.needPax,this.needPax=it(t,e+116,8,this.gid)||this.needPax,this.needPax=it(t,e+124,12,this.size)||this.needPax,this.needPax=ds(t,e+136,12,this.mtime)||this.needPax,t[e+156]=this[M].charCodeAt(0),this.needPax=mt(t,e+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",e+257,8),this.needPax=mt(t,e+265,32,this.uname)||this.needPax,this.needPax=mt(t,e+297,32,this.gname)||this.needPax,this.needPax=it(t,e+329,8,this.devmaj)||this.needPax,this.needPax=it(t,e+337,8,this.devmin)||this.needPax,this.needPax=mt(t,e+345,i,h)||this.needPax,t[e+475]!==0?this.needPax=mt(t,e+345,155,h)||this.needPax:(this.needPax=mt(t,e+345,130,h)||this.needPax,this.needPax=ds(t,e+476,12,this.atime)||this.needPax,this.needPax=ds(t,e+488,12,this.ctime)||this.needPax);let o=8*32;for(let l=e;l<e+148;l++)o+=t[l];for(let l=e+156;l<e+512;l++)o+=t[l];return this.cksum=o,it(t,e+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let e in t)t[e]!==null&&t[e]!==void 0&&(this[e]=t[e])}get type(){return cs.name.get(this[M])||this[M]}get typeKey(){return this[M]}set type(t){cs.code.has(t)?this[M]=cs.code.get(t):this[M]=t}},Ph=(s,t)=>{let e=100,i=s,r="",n,h=Dt.parse(s).root||".";if(__Buffer$.byteLength(i)<e)n=[i,r,!1];else{r=Dt.dirname(i),i=Dt.basename(i);do __Buffer$.byteLength(i)<=e&&__Buffer$.byteLength(r)<=t?n=[i,r,!1]:__Buffer$.byteLength(i)>e&&__Buffer$.byteLength(r)<=t?n=[i.substr(0,e-1),r,!0]:(i=Dt.join(Dt.basename(r),i),r=Dt.dirname(r));while(r!==h&&!n);n||(n=[s.substr(0,e-1),"",!0])}return n},dt=(s,t,e)=>s.slice(t,t+e).toString("utf8").replace(/\0.*/,""),fs=(s,t,e)=>qh(st(s,t,e)),qh=s=>s===null?null:new Date(s*1e3),st=(s,t,e)=>s[t]&128?Xi.parse(s.slice(t,t+e)):zh(s,t,e),Uh=s=>isNaN(s)?null:s,zh=(s,t,e)=>Uh(parseInt(s.slice(t,t+e).toString("utf8").replace(/\0.*$/,"").trim(),8)),Hh={12:8589934591,8:2097151},it=(s,t,e,i)=>i===null?!1:i>Hh[e]||i<0?(Xi.encode(i,s.slice(t,t+e)),!0):(Wh(s,t,e,i),!1),Wh=(s,t,e,i)=>s.write(Gh(i,e),t,e,"ascii"),Gh=(s,t)=>Yh(Math.floor(s).toString(8),t),Yh=(s,t)=>(s.length===t-1?s:new Array(t-s.length-1).join("0")+s+" ")+"\0",ds=(s,t,e,i)=>i===null?!1:it(s,t,e,i.getTime()/1e3),Zh=new Array(156).join("\0"),mt=(s,t,e,i)=>i===null?!1:(s.write(i+Zh,t,e,"utf8"),i.length!==__Buffer$.byteLength(i)||i.length>e);Qi.exports=$i});var de=p(($l,Ji)=>{"use strict";var jh=Lt(),Kh=__path$,fe=class{constructor(t,e){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=e||!1}encode(){let t=this.encodeBody();if(t==="")return null;let e=__Buffer$.byteLength(t),i=512*Math.ceil(1+e/512),r=__Buffer$.allocUnsafe(i);for(let n=0;n<512;n++)r[n]=0;new jh({path:("PaxHeader/"+Kh.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:e,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(r),r.write(t,512,e,"utf8");for(let n=e+512;n<r.length;n++)r[n]=0;return r}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let e=this[t]instanceof Date?this[t].getTime()/1e3:this[t],i=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+e+`
`,r=__Buffer$.byteLength(i),n=Math.floor(Math.log(r)/Math.log(10))+1;return r+n>=Math.pow(10,n)&&(n+=1),n+r+i}};fe.parse=(s,t,e)=>new fe(Vh(Xh(s),t),e);var Vh=(s,t)=>t?Object.keys(s).reduce((e,i)=>(e[i]=s[i],e),t):s,Xh=s=>s.replace(/\n$/,"").split(`
`).reduce($h,Object.create(null)),$h=(s,t)=>{let e=parseInt(t,10);if(e!==__Buffer$.byteLength(t)+1)return s;t=t.substr((e+" ").length);let i=t.split("="),r=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!r)return s;let n=i.join("=");return s[r]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(r)?new Date(n*1e3):/^[0-9]+$/.test(n)?+n:n,s};Ji.exports=fe});var me=p((Ql,tr)=>{"use strict";tr.exports=s=>class extends s{warn(t,e,i={}){this.file&&(i.file=this.file),this.cwd&&(i.cwd=this.cwd),i.code=e instanceof Error&&e.code||t,i.tarCode=t,!this.strict&&i.recoverable!==!1?(e instanceof Error&&(i=Object.assign(e,i),e=e.message),this.emit("warn",i.tarCode,e,i)):e instanceof Error?this.emit("error",Object.assign(e,i)):this.emit("error",Object.assign(new Error(`${t}: ${e}`),i))}}});var ps=p((Jl,er)=>{"use strict";var pe=["|","<",">","?",":"],ms=pe.map(s=>String.fromCharCode(61440+s.charCodeAt(0))),Qh=new Map(pe.map((s,t)=>[s,ms[t]])),Jh=new Map(ms.map((s,t)=>[s,pe[t]]));er.exports={encode:s=>pe.reduce((t,e)=>t.split(e).join(Qh.get(e)),s),decode:s=>ms.reduce((t,e)=>t.split(e).join(Jh.get(e)),s)}});var Es=p((ta,sr)=>{var{isAbsolute:to,parse:eo}=__path$.win32;sr.exports=s=>{let t="";for(;to(s);){let e=s.charAt(0)==="/"?"/":eo(s).root;s=s.substr(e.length),t+=e}return[t,s]}});var rr=p((ea,ir)=>{"use strict";ir.exports=(s,t,e)=>(s&=4095,e&&(s=(s|384)&~18),t&&(s&256&&(s|=64),s&32&&(s|=8),s&4&&(s|=1)),s)});var Ts=p((ra,Sr)=>{"use strict";var nr=Tt(),hr=de(),or=Lt(),z=__fs$,lr=__path$,ar=(s,t)=>t?(s=s.replace(/^\.([/\\]|$)/,""),t+"/"+s):s,so=16*1024*1024,cr=Symbol("process"),ur=Symbol("file"),fr=Symbol("directory"),ys=Symbol("symlink"),dr=Symbol("hardlink"),Xt=Symbol("header"),Ee=Symbol("read"),Ss=Symbol("lstat"),ye=Symbol("onlstat"),Rs=Symbol("onread"),_s=Symbol("onreadlink"),ws=Symbol("openfile"),gs=Symbol("onopenfile"),pt=Symbol("close"),Se=Symbol("mode"),bs=Symbol("awaitDrain"),Os=Symbol("ondrain"),H=Symbol("prefix"),mr=me(),io=ps(),pr=Es(),Er=rr(),Re=mr(class extends nr{constructor(t,e){if(e=e||{},super(e),typeof t!="string")throw new TypeError("path is required");this.path=t,this.portable=!!e.portable,this.myuid=__process$.getuid&&__process$.getuid(),this.myuser=__process$.env.USER||"",this.maxReadSize=e.maxReadSize||so,this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.preservePaths=!!e.preservePaths,this.cwd=e.cwd||__process$.cwd(),this.strict=!!e.strict,this.noPax=!!e.noPax,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.prefix=e.prefix||null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof e.onwarn=="function"&&this.on("warn",e.onwarn);let i=!1;if(!this.preservePaths){let[r,n]=pr(this.path);r&&(this.path=n,i=r)}this.win32=!!e.win32||__process$.platform==="win32",this.win32&&(this.path=io.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=e.absolute||lr.resolve(this.cwd,t),this.path===""&&(this.path="./"),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.statCache.has(this.absolute)?this[ye](this.statCache.get(this.absolute)):this[Ss]()}[Ss](){z.lstat(this.absolute,(t,e)=>{if(t)return this.emit("error",t);this[ye](e)})}[ye](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=no(t),this.emit("stat",t),this[cr]()}[cr](){switch(this.type){case"File":return this[ur]();case"Directory":return this[fr]();case"SymbolicLink":return this[ys]();default:return this.end()}}[Se](t){return Er(t,this.type==="Directory",this.portable)}[H](t){return ar(t,this.prefix)}[Xt](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new or({path:this[H](this.path),linkpath:this.type==="Link"?this[H](this.linkpath):this.linkpath,mode:this[Se](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new hr({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[H](this.path),linkpath:this.type==="Link"?this[H](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[fr](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Xt](),this.end()}[ys](){z.readlink(this.absolute,(t,e)=>{if(t)return this.emit("error",t);this[_s](e)})}[_s](t){this.linkpath=t.replace(/\\/g,"/"),this[Xt](),this.end()}[dr](t){this.type="Link",this.linkpath=lr.relative(this.cwd,t).replace(/\\/g,"/"),this.stat.size=0,this[Xt](),this.end()}[ur](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let e=this.linkCache.get(t);if(e.indexOf(this.cwd)===0)return this[dr](e)}this.linkCache.set(t,this.absolute)}if(this[Xt](),this.stat.size===0)return this.end();this[ws]()}[ws](){z.open(this.absolute,"r",(t,e)=>{if(t)return this.emit("error",t);this[gs](e)})}[gs](t){this.fd=t,this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let e=Math.min(this.blockLen,this.maxReadSize);this.buf=__Buffer$.allocUnsafe(e),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Ee]()}[Ee](){let{fd:t,buf:e,offset:i,length:r,pos:n}=this;z.read(t,e,i,r,n,(h,o)=>{if(h)return this[pt](()=>this.emit("error",h));this[Rs](o)})}[pt](t){z.close(this.fd,t)}[Rs](t){if(t<=0&&this.remain>0){let r=new Error("encountered unexpected EOF");return r.path=this.absolute,r.syscall="read",r.code="EOF",this[pt](()=>this.emit("error",r))}if(t>this.remain){let r=new Error("did not encounter expected EOF");return r.path=this.absolute,r.syscall="read",r.code="EOF",this[pt](()=>this.emit("error",r))}if(t===this.remain)for(let r=t;r<this.length&&t<this.blockRemain;r++)this.buf[r+this.offset]=0,t++,this.remain++;let e=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(e)?this[Os]():this[bs](()=>this[Os]())}[bs](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let e=new Error("writing more data than expected");return e.path=this.absolute,this.emit("error",e)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Os](){if(!this.remain)return this.blockRemain&&super.write(__Buffer$.alloc(this.blockRemain)),this[pt](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=__Buffer$.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Ee]()}}),yr=class extends Re{[Ss](){this[ye](z.lstatSync(this.absolute))}[ys](){this[_s](z.readlinkSync(this.absolute))}[ws](){this[gs](z.openSync(this.absolute,"r"))}[Ee](){let t=!0;try{let{fd:e,buf:i,offset:r,length:n,pos:h}=this,o=z.readSync(e,i,r,n,h);this[Rs](o),t=!1}finally{if(t)try{this[pt](()=>{})}catch(e){}}}[bs](t){t()}[pt](t){z.closeSync(this.fd),t()}},ro=mr(class extends nr{constructor(t,e){e=e||{},super(e),this.preservePaths=!!e.preservePaths,this.portable=!!e.portable,this.strict=!!e.strict,this.noPax=!!e.noPax,this.noMtime=!!e.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=e.prefix||null,this.path=t.path,this.mode=this[Se](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:e.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=t.linkpath,typeof e.onwarn=="function"&&this.on("warn",e.onwarn);let i=!1;if(!this.preservePaths){let[r,n]=pr(this.path);r&&(this.path=n,i=r)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new or({path:this[H](this.path),linkpath:this.type==="Link"?this[H](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.header.encode()&&!this.noPax&&super.write(new hr({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[H](this.path),linkpath:this.type==="Link"?this[H](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[H](t){return ar(t,this.prefix)}[Se](t){return Er(t,this.type==="Directory",this.portable)}write(t){let e=t.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=e,super.write(t)}end(){return this.blockRemain&&super.write(__Buffer$.alloc(this.blockRemain)),super.end()}});Re.Sync=yr;Re.Tar=ro;var no=s=>s.isFile()?"File":s.isDirectory()?"Directory":s.isSymbolicLink()?"SymbolicLink":"Unsupported";Sr.exports=Re});var De=p((ha,Nr)=>{"use strict";var Ns=class{constructor(t,e){this.path=t||"./",this.absolute=e,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},ho=Tt(),oo=os(),lo=ce(),Ds=Ts(),ao=Ds.Sync,co=Ds.Tar,uo=ne(),Rr=__Buffer$.alloc(1024),_e=Symbol("onStat"),we=Symbol("ended"),W=Symbol("queue"),At=Symbol("current"),Et=Symbol("process"),ge=Symbol("processing"),_r=Symbol("processJob"),G=Symbol("jobs"),Ls=Symbol("jobDone"),be=Symbol("addFSEntry"),wr=Symbol("addTarEntry"),As=Symbol("stat"),Is=Symbol("readdir"),Oe=Symbol("onreaddir"),Te=Symbol("pipe"),gr=Symbol("entry"),vs=Symbol("entryOpt"),xs=Symbol("writeEntryClass"),br=Symbol("write"),Cs=Symbol("ondrain"),Ne=__fs$,Or=__path$,fo=me(),Ms=fo(class extends ho{constructor(t){super(t);t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||__process$.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=(t.prefix||"").replace(/(\\|\/)+$/,""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[xs]=Ds,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new oo.Gzip(t.gzip),this.zip.on("data",e=>super.write(e)),this.zip.on("end",e=>super.end()),this.zip.on("drain",e=>this[Cs]()),this.on("resume",e=>this.zip.resume())):this.on("drain",this[Cs]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:e=>!0,this[W]=new uo,this[G]=0,this.jobs=+t.jobs||4,this[ge]=!1,this[we]=!1}[br](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[we]=!0,this[Et](),this}write(t){if(this[we])throw new Error("write after end");return t instanceof lo?this[wr](t):this[be](t),this.flowing}[wr](t){let e=Or.resolve(this.cwd,t.path);if(!this.filter(t.path,t))t.resume();else{let i=new Ns(t.path,e,!1);i.entry=new co(t,this[vs](i)),i.entry.on("end",r=>this[Ls](i)),this[G]+=1,this[W].push(i)}this[Et]()}[be](t){let e=Or.resolve(this.cwd,t);this[W].push(new Ns(t,e)),this[Et]()}[As](t){t.pending=!0,this[G]+=1;let e=this.follow?"stat":"lstat";Ne[e](t.absolute,(i,r)=>{t.pending=!1,this[G]-=1,i?this.emit("error",i):this[_e](t,r)})}[_e](t,e){this.statCache.set(t.absolute,e),t.stat=e,this.filter(t.path,e)||(t.ignore=!0),this[Et]()}[Is](t){t.pending=!0,this[G]+=1,Ne.readdir(t.absolute,(e,i)=>{if(t.pending=!1,this[G]-=1,e)return this.emit("error",e);this[Oe](t,i)})}[Oe](t,e){this.readdirCache.set(t.absolute,e),t.readdir=e,this[Et]()}[Et](){if(!this[ge]){this[ge]=!0;for(let t=this[W].head;t!==null&&this[G]<this.jobs;t=t.next)if(this[_r](t.value),t.value.ignore){let e=t.next;this[W].removeNode(t),t.next=e}this[ge]=!1,this[we]&&!this[W].length&&this[G]===0&&(this.zip?this.zip.end(Rr):(super.write(Rr),super.end()))}}get[At](){return this[W]&&this[W].head&&this[W].head.value}[Ls](t){this[W].shift(),this[G]-=1,this[Et]()}[_r](t){if(!t.pending){if(t.entry){t===this[At]&&!t.piped&&this[Te](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[_e](t,this.statCache.get(t.absolute)):this[As](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[Oe](t,this.readdirCache.get(t.absolute)):this[Is](t),!t.readdir))){if(t.entry=this[gr](t),!t.entry){t.ignore=!0;return}t===this[At]&&!t.piped&&this[Te](t)}}}[vs](t){return{onwarn:(e,i,r)=>this.warn(e,i,r),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[gr](t){this[G]+=1;try{return new this[xs](t.path,this[vs](t)).on("end",()=>this[Ls](t)).on("error",e=>this.emit("error",e))}catch(e){this.emit("error",e)}}[Cs](){this[At]&&this[At].entry&&this[At].entry.resume()}[Te](t){t.piped=!0,t.readdir&&t.readdir.forEach(r=>{let n=t.path,h=n==="./"?"":n.replace(/\/*$/,"/");this[be](h+r)});let e=t.entry,i=this.zip;i?e.on("data",r=>{i.write(r)||e.pause()}):e.on("data",r=>{super.write(r)||e.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Tr=class extends Ms{constructor(t){super(t);this[xs]=ao}pause(){}resume(){}[As](t){let e=this.follow?"statSync":"lstatSync";this[_e](t,Ne[e](t.absolute))}[Is](t,e){this[Oe](t,Ne.readdirSync(t.absolute))}[Te](t){let e=t.entry,i=this.zip;t.readdir&&t.readdir.forEach(r=>{let n=t.path,h=n==="./"?"":n.replace(/\/*$/,"/");this[be](h+r)}),i?e.on("data",r=>{i.write(r)}):e.on("data",r=>{super[br](r)})}};Ms.Sync=Tr;Nr.exports=Ms});var kt=p(Qt=>{"use strict";var mo=Tt(),po=__events$.EventEmitter,v=__fs$,Fs=v.writev;if(!Fs){let s=__process$.binding("fs"),t=s.FSReqWrap||s.FSReqCallback;Fs=(e,i,r,n)=>{let h=(l,c)=>n(l,c,i),o=new t;o.oncomplete=h,s.writeBuffers(e,i,r,o)}}var It=Symbol("_autoClose"),U=Symbol("_close"),$t=Symbol("_ended"),w=Symbol("_fd"),Dr=Symbol("_finished"),rt=Symbol("_flags"),Bs=Symbol("_flush"),ks=Symbol("_handleChunk"),Ps=Symbol("_makeBuf"),Le=Symbol("_mode"),Ae=Symbol("_needDrain"),vt=Symbol("_onerror"),xt=Symbol("_onopen"),qs=Symbol("_onread"),Ct=Symbol("_onwrite"),nt=Symbol("_open"),V=Symbol("_path"),yt=Symbol("_pos"),Y=Symbol("_queue"),Mt=Symbol("_read"),Lr=Symbol("_readSize"),ht=Symbol("_reading"),Ie=Symbol("_remain"),Ar=Symbol("_size"),ve=Symbol("_write"),Ft=Symbol("_writing"),xe=Symbol("_defaultFlag"),Bt=Symbol("_errored"),Us=class extends mo{constructor(t,e){if(e=e||{},super(e),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[Bt]=!1,this[w]=typeof e.fd=="number"?e.fd:null,this[V]=t,this[Lr]=e.readSize||16*1024*1024,this[ht]=!1,this[Ar]=typeof e.size=="number"?e.size:Infinity,this[Ie]=this[Ar],this[It]=typeof e.autoClose=="boolean"?e.autoClose:!0,typeof this[w]=="number"?this[Mt]():this[nt]()}get fd(){return this[w]}get path(){return this[V]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[nt](){v.open(this[V],"r",(t,e)=>this[xt](t,e))}[xt](t,e){t?this[vt](t):(this[w]=e,this.emit("open",e),this[Mt]())}[Ps](){return __Buffer$.allocUnsafe(Math.min(this[Lr],this[Ie]))}[Mt](){if(!this[ht]){this[ht]=!0;let t=this[Ps]();if(t.length===0)return __process$.nextTick(()=>this[qs](null,0,t));v.read(this[w],t,0,t.length,null,(e,i,r)=>this[qs](e,i,r))}}[qs](t,e,i){this[ht]=!1,t?this[vt](t):this[ks](e,i)&&this[Mt]()}[U](){if(this[It]&&typeof this[w]=="number"){let t=this[w];this[w]=null,v.close(t,e=>e?this.emit("error",e):this.emit("close"))}}[vt](t){this[ht]=!0,this[U](),this.emit("error",t)}[ks](t,e){let i=!1;return this[Ie]-=t,t>0&&(i=super.write(t<e.length?e.slice(0,t):e)),(t===0||this[Ie]<=0)&&(i=!1,this[U](),super.end()),i}emit(t,e){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[w]=="number"&&this[Mt]();break;case"error":return this[Bt]?void 0:(this[Bt]=!0,super.emit(t,e));default:return super.emit(t,e)}}},Ir=class extends Us{[nt](){let t=!0;try{this[xt](null,v.openSync(this[V],"r")),t=!1}finally{t&&this[U]()}}[Mt](){let t=!0;try{if(!this[ht]){this[ht]=!0;do{let e=this[Ps](),i=e.length===0?0:v.readSync(this[w],e,0,e.length,null);if(!this[ks](i,e))break}while(!0);this[ht]=!1}t=!1}finally{t&&this[U]()}}[U](){if(this[It]&&typeof this[w]=="number"){let t=this[w];this[w]=null,v.closeSync(t),this.emit("close")}}},zs=class extends po{constructor(t,e){e=e||{},super(e),this.readable=!1,this.writable=!0,this[Bt]=!1,this[Ft]=!1,this[$t]=!1,this[Ae]=!1,this[Y]=[],this[V]=t,this[w]=typeof e.fd=="number"?e.fd:null,this[Le]=e.mode===void 0?438:e.mode,this[yt]=typeof e.start=="number"?e.start:null,this[It]=typeof e.autoClose=="boolean"?e.autoClose:!0;let i=this[yt]!==null?"r+":"w";this[xe]=e.flags===void 0,this[rt]=this[xe]?i:e.flags,this[w]===null&&this[nt]()}emit(t,e){if(t==="error"){if(this[Bt])return;this[Bt]=!0}return super.emit(t,e)}get fd(){return this[w]}get path(){return this[V]}[vt](t){this[U](),this[Ft]=!0,this.emit("error",t)}[nt](){v.open(this[V],this[rt],this[Le],(t,e)=>this[xt](t,e))}[xt](t,e){this[xe]&&this[rt]==="r+"&&t&&t.code==="ENOENT"?(this[rt]="w",this[nt]()):t?this[vt](t):(this[w]=e,this.emit("open",e),this[Bs]())}end(t,e){return t&&this.write(t,e),this[$t]=!0,!this[Ft]&&!this[Y].length&&typeof this[w]=="number"&&this[Ct](null,0),this}write(t,e){return typeof t=="string"&&(t=__Buffer$.from(t,e)),this[$t]?(this.emit("error",new Error("write() after end()")),!1):this[w]===null||this[Ft]||this[Y].length?(this[Y].push(t),this[Ae]=!0,!1):(this[Ft]=!0,this[ve](t),!0)}[ve](t){v.write(this[w],t,0,t.length,this[yt],(e,i)=>this[Ct](e,i))}[Ct](t,e){t?this[vt](t):(this[yt]!==null&&(this[yt]+=e),this[Y].length?this[Bs]():(this[Ft]=!1,this[$t]&&!this[Dr]?(this[Dr]=!0,this[U](),this.emit("finish")):this[Ae]&&(this[Ae]=!1,this.emit("drain"))))}[Bs](){if(this[Y].length===0)this[$t]&&this[Ct](null,0);else if(this[Y].length===1)this[ve](this[Y].pop());else{let t=this[Y];this[Y]=[],Fs(this[w],t,this[yt],(e,i)=>this[Ct](e,i))}}[U](){if(this[It]&&typeof this[w]=="number"){let t=this[w];this[w]=null,v.close(t,e=>e?this.emit("error",e):this.emit("close"))}}},vr=class extends zs{[nt](){let t;if(this[xe]&&this[rt]==="r+")try{t=v.openSync(this[V],this[rt],this[Le])}catch(e){if(e.code==="ENOENT")return this[rt]="w",this[nt]();throw e}else t=v.openSync(this[V],this[rt],this[Le]);this[xt](null,t)}[U](){if(this[It]&&typeof this[w]=="number"){let t=this[w];this[w]=null,v.closeSync(t),this.emit("close")}}[ve](t){let e=!0;try{this[Ct](null,v.writeSync(this[w],t,0,t.length,this[yt])),e=!1}finally{if(e)try{this[U]()}catch(i){}}}};Qt.ReadStream=Us;Qt.ReadStreamSync=Ir;Qt.WriteStream=zs;Qt.WriteStreamSync=vr});var qe=p((aa,Pr)=>{"use strict";var Eo=me(),yo=Lt(),So=__events$,Ro=ne(),_o=1024*1024,wo=ce(),xr=de(),go=os(),Hs=__Buffer$.from([31,139]),F=Symbol("state"),St=Symbol("writeEntry"),X=Symbol("readEntry"),Ws=Symbol("nextEntry"),Cr=Symbol("processEntry"),B=Symbol("extendedHeader"),Jt=Symbol("globalExtendedHeader"),ot=Symbol("meta"),Mr=Symbol("emitMeta"),b=Symbol("buffer"),$=Symbol("queue"),Rt=Symbol("ended"),Fr=Symbol("emittedEnd"),_t=Symbol("emit"),x=Symbol("unzip"),Ce=Symbol("consumeChunk"),Me=Symbol("consumeChunkSub"),Gs=Symbol("consumeBody"),Br=Symbol("consumeMeta"),kr=Symbol("consumeHeader"),Fe=Symbol("consuming"),Ys=Symbol("bufferConcat"),Zs=Symbol("maybeEnd"),te=Symbol("writing"),lt=Symbol("aborted"),Be=Symbol("onDone"),wt=Symbol("sawValidEntry"),ke=Symbol("sawNullBlock"),Pe=Symbol("sawEOF"),bo=s=>!0;Pr.exports=Eo(class extends So{constructor(t){t=t||{},super(t),this.file=t.file||"",this[wt]=null,this.on(Be,e=>{(this[F]==="begin"||this[wt]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(Be,t.ondone):this.on(Be,e=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||_o,this.filter=typeof t.filter=="function"?t.filter:bo,this.writable=!0,this.readable=!1,this[$]=new Ro,this[b]=null,this[X]=null,this[St]=null,this[F]="begin",this[ot]="",this[B]=null,this[Jt]=null,this[Rt]=!1,this[x]=null,this[lt]=!1,this[ke]=!1,this[Pe]=!1,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[kr](t,e){this[wt]===null&&(this[wt]=!1);let i;try{i=new yo(t,e,this[B],this[Jt])}catch(r){return this.warn("TAR_ENTRY_INVALID",r)}if(i.nullBlock)this[ke]?(this[Pe]=!0,this[F]==="begin"&&(this[F]="header"),this[_t]("eof")):(this[ke]=!0,this[_t]("nullBlock"));else if(this[ke]=!1,!i.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:i});else if(!i.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:i});else{let r=i.type;if(/^(Symbolic)?Link$/.test(r)&&!i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:i});else if(!/^(Symbolic)?Link$/.test(r)&&i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:i});else{let n=this[St]=new wo(i,this[B],this[Jt]);if(!this[wt])if(n.remain){let h=()=>{n.invalid||(this[wt]=!0)};n.on("end",h)}else this[wt]=!0;n.meta?n.size>this.maxMetaEntrySize?(n.ignore=!0,this[_t]("ignoredEntry",n),this[F]="ignore",n.resume()):n.size>0&&(this[ot]="",n.on("data",h=>this[ot]+=h),this[F]="meta"):(this[B]=null,n.ignore=n.ignore||!this.filter(n.path,n),n.ignore?(this[_t]("ignoredEntry",n),this[F]=n.remain?"ignore":"header",n.resume()):(n.remain?this[F]="body":(this[F]="header",n.end()),this[X]?this[$].push(n):(this[$].push(n),this[Ws]())))}}}[Cr](t){let e=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[X]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",i=>this[Ws]()),e=!1)):(this[X]=null,e=!1),e}[Ws](){do;while(this[Cr](this[$].shift()));if(!this[$].length){let t=this[X];!t||t.flowing||t.size===t.remain?this[te]||this.emit("drain"):t.once("drain",i=>this.emit("drain"))}}[Gs](t,e){let i=this[St],r=i.blockRemain,n=r>=t.length&&e===0?t:t.slice(e,e+r);return i.write(n),i.blockRemain||(this[F]="header",this[St]=null,i.end()),n.length}[Br](t,e){let i=this[St],r=this[Gs](t,e);return this[St]||this[Mr](i),r}[_t](t,e,i){!this[$].length&&!this[X]?this.emit(t,e,i):this[$].push([t,e,i])}[Mr](t){switch(this[_t]("meta",this[ot]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[B]=xr.parse(this[ot],this[B],!1);break;case"GlobalExtendedHeader":this[Jt]=xr.parse(this[ot],this[Jt],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[B]=this[B]||Object.create(null),this[B].path=this[ot].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[B]=this[B]||Object.create(null),this[B].linkpath=this[ot].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[lt]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[lt])return;if(this[x]===null&&t){if(this[b]&&(t=__Buffer$.concat([this[b],t]),this[b]=null),t.length<Hs.length)return this[b]=t,!0;for(let i=0;this[x]===null&&i<Hs.length;i++)t[i]!==Hs[i]&&(this[x]=!1);if(this[x]===null){let i=this[Rt];this[Rt]=!1,this[x]=new go.Unzip,this[x].on("data",n=>this[Ce](n)),this[x].on("error",n=>this.abort(n)),this[x].on("end",n=>{this[Rt]=!0,this[Ce]()}),this[te]=!0;let r=this[x][i?"end":"write"](t);return this[te]=!1,r}}this[te]=!0,this[x]?this[x].write(t):this[Ce](t),this[te]=!1;let e=this[$].length?!1:this[X]?this[X].flowing:!0;return!e&&!this[$].length&&this[X].once("drain",i=>this.emit("drain")),e}[Ys](t){t&&!this[lt]&&(this[b]=this[b]?__Buffer$.concat([this[b],t]):t)}[Zs](){if(this[Rt]&&!this[Fr]&&!this[lt]&&!this[Fe]){this[Fr]=!0;let t=this[St];if(t&&t.blockRemain){let e=this[b]?this[b].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${e} available)`,{entry:t}),this[b]&&t.write(this[b]),t.end()}this[_t](Be)}}[Ce](t){if(this[Fe])this[Ys](t);else if(!t&&!this[b])this[Zs]();else{if(this[Fe]=!0,this[b]){this[Ys](t);let e=this[b];this[b]=null,this[Me](e)}else this[Me](t);for(;this[b]&&this[b].length>=512&&!this[lt]&&!this[Pe];){let e=this[b];this[b]=null,this[Me](e)}this[Fe]=!1}(!this[b]||this[Rt])&&this[Zs]()}[Me](t){let e=0,i=t.length;for(;e+512<=i&&!this[lt]&&!this[Pe];)switch(this[F]){case"begin":case"header":this[kr](t,e),e+=512;break;case"ignore":case"body":e+=this[Gs](t,e);break;case"meta":e+=this[Br](t,e);break;default:throw new Error("invalid state: "+this[F])}e<i&&(this[b]?this[b]=__Buffer$.concat([t.slice(e),this[b]]):this[b]=t.slice(e))}end(t){this[lt]||(this[x]?this[x].end(t):(this[Rt]=!0,this.write(t)))}})});var js=p((ca,qr)=>{var Oo=["/".repeat(1024),"/".repeat(512),"/".repeat(256),"/".repeat(128),"/".repeat(64),"/".repeat(32),"/".repeat(16),"/".repeat(8),"/".repeat(4),"/".repeat(2),"/"];qr.exports=s=>{for(let t of Oo)for(;s.length>=t.length&&s.slice(-1*t.length)===t;)s=s.slice(0,-1*t.length);return s}});var Ue=p((ua,Wr)=>{"use strict";var To=Ot(),Ur=qe(),Pt=__fs$,No=kt(),zr=__path$,Ks=js();Wr.exports=(s,t,e)=>{typeof s=="function"?(e=s,t=null,s={}):Array.isArray(s)&&(t=s,s={}),typeof t=="function"&&(e=t,t=null),t?t=Array.from(t):t=[];let i=To(s);if(i.sync&&typeof e=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof e=="function")throw new TypeError("callback only supported with file option");return t.length&&Lo(i,t),i.noResume||Do(i),i.file&&i.sync?Ao(i):i.file?Io(i,e):Hr(i)};var Do=s=>{let t=s.onentry;s.onentry=t?e=>{t(e),e.resume()}:e=>e.resume()},Lo=(s,t)=>{let e=new Map(t.map(n=>[Ks(n),!0])),i=s.filter,r=(n,h)=>{let o=h||zr.parse(n).root||".",l=n===o?!1:e.has(n)?e.get(n):r(zr.dirname(n),o);return e.set(n,l),l};s.filter=i?(n,h)=>i(n,h)&&r(Ks(n)):n=>r(Ks(n))},Ao=s=>{let t=Hr(s),e=s.file,i=!0,r;try{let n=Pt.statSync(e),h=s.maxReadSize||16*1024*1024;if(n.size<h)t.end(Pt.readFileSync(e));else{let o=0,l=__Buffer$.allocUnsafe(h);for(r=Pt.openSync(e,"r");o<n.size;){let c=Pt.readSync(r,l,0,h,o);o+=c,t.write(l.slice(0,c))}t.end()}i=!1}finally{if(i&&r)try{Pt.closeSync(r)}catch(n){}}},Io=(s,t)=>{let e=new Ur(s),i=s.maxReadSize||16*1024*1024,r=s.file,n=new Promise((h,o)=>{e.on("error",o),e.on("end",h),Pt.stat(r,(l,c)=>{if(l)o(l);else{let a=new No.ReadStream(r,{readSize:i,size:c.size});a.on("error",o),a.pipe(e)}})});return t?n.then(t,t):n},Hr=s=>new Ur(s)});var Vr=p((fa,Kr)=>{"use strict";var vo=Ot(),ze=De(),Gr=kt(),Yr=Ue(),Zr=__path$;Kr.exports=(s,t,e)=>{if(typeof t=="function"&&(e=t),Array.isArray(s)&&(t=s,s={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let i=vo(s);if(i.sync&&typeof e=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof e=="function")throw new TypeError("callback only supported with file option");return i.file&&i.sync?xo(i,t):i.file?Co(i,t,e):i.sync?Mo(i,t):Fo(i,t)};var xo=(s,t)=>{let e=new ze.Sync(s),i=new Gr.WriteStreamSync(s.file,{mode:s.mode||438});e.pipe(i),jr(e,t)},Co=(s,t,e)=>{let i=new ze(s),r=new Gr.WriteStream(s.file,{mode:s.mode||438});i.pipe(r);let n=new Promise((h,o)=>{r.on("error",o),r.on("close",h),i.on("error",o)});return Vs(i,t),e?n.then(e,e):n},jr=(s,t)=>{t.forEach(e=>{e.charAt(0)==="@"?Yr({file:Zr.resolve(s.cwd,e.substr(1)),sync:!0,noResume:!0,onentry:i=>s.add(i)}):s.add(e)}),s.end()},Vs=(s,t)=>{for(;t.length;){let e=t.shift();if(e.charAt(0)==="@")return Yr({file:Zr.resolve(s.cwd,e.substr(1)),noResume:!0,onentry:i=>s.add(i)}).then(i=>Vs(s,t));s.add(e)}s.end()},Mo=(s,t)=>{let e=new ze.Sync(s);return jr(e,t),e},Fo=(s,t)=>{let e=new ze(s);return Vs(e,t),e}});var Xs=p((da,sn)=>{"use strict";var Bo=Ot(),Xr=De(),k=__fs$,$r=kt(),Qr=Ue(),Jr=__path$,tn=Lt();sn.exports=(s,t,e)=>{let i=Bo(s);if(!i.file)throw new TypeError("file is required");if(i.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),i.sync?ko(i,t):qo(i,t,e)};var ko=(s,t)=>{let e=new Xr.Sync(s),i=!0,r,n;try{try{r=k.openSync(s.file,"r+")}catch(l){if(l.code==="ENOENT")r=k.openSync(s.file,"w+");else throw l}let h=k.fstatSync(r),o=__Buffer$.alloc(512);t:for(n=0;n<h.size;n+=512){for(let a=0,u=0;a<512;a+=u){if(u=k.readSync(r,o,a,o.length-a,n+a),n===0&&o[0]===31&&o[1]===139)throw new Error("cannot append to compressed archives");if(!u)break t}let l=new tn(o);if(!l.cksumValid)break;let c=512*Math.ceil(l.size/512);if(n+c+512>h.size)break;n+=c,s.mtimeCache&&s.mtimeCache.set(l.path,l.mtime)}i=!1,Po(s,e,n,r,t)}finally{if(i)try{k.closeSync(r)}catch(h){}}},Po=(s,t,e,i,r)=>{let n=new $r.WriteStreamSync(s.file,{fd:i,start:e});t.pipe(n),Uo(t,r)},qo=(s,t,e)=>{t=Array.from(t);let i=new Xr(s),r=(h,o,l)=>{let c=(E,_)=>{E?k.close(h,y=>l(E)):l(null,_)},a=0;if(o===0)return c(null,0);let u=0,f=__Buffer$.alloc(512),m=(E,_)=>{if(E)return c(E);if(u+=_,u<512&&_)return k.read(h,f,u,f.length-u,a+u,m);if(a===0&&f[0]===31&&f[1]===139)return c(new Error("cannot append to compressed archives"));if(u<512)return c(null,a);let y=new tn(f);if(!y.cksumValid)return c(null,a);let O=512*Math.ceil(y.size/512);if(a+O+512>o||(a+=O+512,a>=o))return c(null,a);s.mtimeCache&&s.mtimeCache.set(y.path,y.mtime),u=0,k.read(h,f,0,512,a,m)};k.read(h,f,0,512,a,m)},n=new Promise((h,o)=>{i.on("error",o);let l="r+",c=(a,u)=>{if(a&&a.code==="ENOENT"&&l==="r+")return l="w+",k.open(s.file,l,c);if(a)return o(a);k.fstat(u,(f,m)=>{if(f)return o(f);r(u,m.size,(E,_)=>{if(E)return o(E);let y=new $r.WriteStream(s.file,{fd:u,start:_});i.pipe(y),y.on("error",o),y.on("close",h),en(i,t)})})};k.open(s.file,l,c)});return e?n.then(e,e):n},Uo=(s,t)=>{t.forEach(e=>{e.charAt(0)==="@"?Qr({file:Jr.resolve(s.cwd,e.substr(1)),sync:!0,noResume:!0,onentry:i=>s.add(i)}):s.add(e)}),s.end()},en=(s,t)=>{for(;t.length;){let e=t.shift();if(e.charAt(0)==="@")return Qr({file:Jr.resolve(s.cwd,e.substr(1)),noResume:!0,onentry:i=>s.add(i)}).then(i=>en(s,t));s.add(e)}s.end()}});var nn=p((ma,rn)=>{"use strict";var zo=Ot(),Ho=Xs();rn.exports=(s,t,e)=>{let i=zo(s);if(!i.file)throw new TypeError("file is required");if(i.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),Wo(i),Ho(i,t,e)};var Wo=s=>{let t=s.filter;s.mtimeCache||(s.mtimeCache=new Map),s.filter=t?(e,i)=>t(e,i)&&!(s.mtimeCache.get(e)>i.mtime):(e,i)=>!(s.mtimeCache.get(e)>i.mtime)}});var ln=p((pa,on)=>{var{promisify:hn}=__util$,at=__fs$,Go=s=>{if(!s)s={mode:511,fs:at};else if(typeof s=="object")s={mode:511,fs:at,...s};else if(typeof s=="number")s={mode:s,fs:at};else if(typeof s=="string")s={mode:parseInt(s,8),fs:at};else throw new TypeError("invalid options argument");return s.mkdir=s.mkdir||s.fs.mkdir||at.mkdir,s.mkdirAsync=hn(s.mkdir),s.stat=s.stat||s.fs.stat||at.stat,s.statAsync=hn(s.stat),s.statSync=s.statSync||s.fs.statSync||at.statSync,s.mkdirSync=s.mkdirSync||s.fs.mkdirSync||at.mkdirSync,s};on.exports=Go});var cn=p((Ea,an)=>{var Yo=__process$.env.__TESTING_MKDIRP_PLATFORM__||__process$.platform,{resolve:Zo,parse:jo}=__path$,Ko=s=>{if(/\0/.test(s))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:s,code:"ERR_INVALID_ARG_VALUE"});if(s=Zo(s),Yo==="win32"){let t=/[*|"<>?:]/,{root:e}=jo(s);if(t.test(s.substr(e.length)))throw Object.assign(new Error("Illegal characters in path."),{path:s,code:"EINVAL"})}return s};an.exports=Ko});var pn=p((ya,mn)=>{var{dirname:un}=__path$,fn=(s,t,e=void 0)=>e===t?Promise.resolve():s.statAsync(t).then(i=>i.isDirectory()?e:void 0,i=>i.code==="ENOENT"?fn(s,un(t),t):void 0),dn=(s,t,e=void 0)=>{if(e!==t)try{return s.statSync(t).isDirectory()?e:void 0}catch(i){return i.code==="ENOENT"?dn(s,un(t),t):void 0}};mn.exports={findMade:fn,findMadeSync:dn}});var Js=p((Sa,yn)=>{var{dirname:En}=__path$,$s=(s,t,e)=>{t.recursive=!1;let i=En(s);return i===s?t.mkdirAsync(s,t).catch(r=>{if(r.code!=="EISDIR")throw r}):t.mkdirAsync(s,t).then(()=>e||s,r=>{if(r.code==="ENOENT")return $s(i,t).then(n=>$s(s,t,n));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;return t.statAsync(s).then(n=>{if(n.isDirectory())return e;throw r},()=>{throw r})})},Qs=(s,t,e)=>{let i=En(s);if(t.recursive=!1,i===s)try{return t.mkdirSync(s,t)}catch(r){if(r.code!=="EISDIR")throw r;return}try{return t.mkdirSync(s,t),e||s}catch(r){if(r.code==="ENOENT")return Qs(s,t,Qs(i,t,e));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;try{if(!t.statSync(s).isDirectory())throw r}catch(n){throw r}}};yn.exports={mkdirpManual:$s,mkdirpManualSync:Qs}});var _n=p((Ra,Rn)=>{var{dirname:Sn}=__path$,{findMade:Vo,findMadeSync:Xo}=pn(),{mkdirpManual:$o,mkdirpManualSync:Qo}=Js(),Jo=(s,t)=>(t.recursive=!0,Sn(s)===s?t.mkdirAsync(s,t):Vo(t,s).then(i=>t.mkdirAsync(s,t).then(()=>i).catch(r=>{if(r.code==="ENOENT")return $o(s,t);throw r}))),tl=(s,t)=>{if(t.recursive=!0,Sn(s)===s)return t.mkdirSync(s,t);let i=Xo(t,s);try{return t.mkdirSync(s,t),i}catch(r){if(r.code==="ENOENT")return Qo(s,t);throw r}};Rn.exports={mkdirpNative:Jo,mkdirpNativeSync:tl}});var On=p((_a,bn)=>{var wn=__fs$,el=__process$.env.__TESTING_MKDIRP_NODE_VERSION__||__process$.version,ti=el.replace(/^v/,"").split("."),gn=+ti[0]>10||+ti[0]==10&&+ti[1]>=12,sl=gn?s=>s.mkdir===wn.mkdir:()=>!1,il=gn?s=>s.mkdirSync===wn.mkdirSync:()=>!1;bn.exports={useNative:sl,useNativeSync:il}});var In=p((wa,An)=>{var qt=ln(),Ut=cn(),{mkdirpNative:Tn,mkdirpNativeSync:Nn}=_n(),{mkdirpManual:Dn,mkdirpManualSync:Ln}=Js(),{useNative:rl,useNativeSync:nl}=On(),zt=(s,t)=>(s=Ut(s),t=qt(t),rl(t)?Tn(s,t):Dn(s,t)),hl=(s,t)=>(s=Ut(s),t=qt(t),nl(t)?Nn(s,t):Ln(s,t));zt.sync=hl;zt.native=(s,t)=>Tn(Ut(s),qt(t));zt.manual=(s,t)=>Dn(Ut(s),qt(t));zt.nativeSync=(s,t)=>Nn(Ut(s),qt(t));zt.manualSync=(s,t)=>Ln(Ut(s),qt(t));An.exports=zt});var kn=p((ga,Bn)=>{"use strict";var P=__fs$,gt=__path$,ol=P.lchown?"lchown":"chown",ll=P.lchownSync?"lchownSync":"chownSync",vn=P.lchown&&!__process$.version.match(/v1[1-9]+\./)&&!__process$.version.match(/v10\.[6-9]/),xn=(s,t,e)=>{try{return P[ll](s,t,e)}catch(i){if(i.code!=="ENOENT")throw i}},al=(s,t,e)=>{try{return P.chownSync(s,t,e)}catch(i){if(i.code!=="ENOENT")throw i}},cl=vn?(s,t,e,i)=>r=>{!r||r.code!=="EISDIR"?i(r):P.chown(s,t,e,i)}:(s,t,e,i)=>i,ei=vn?(s,t,e)=>{try{return xn(s,t,e)}catch(i){if(i.code!=="EISDIR")throw i;al(s,t,e)}}:(s,t,e)=>xn(s,t,e),ul=__process$.version,Cn=(s,t,e)=>P.readdir(s,t,e),fl=(s,t)=>P.readdirSync(s,t);/^v4\./.test(ul)&&(Cn=(s,t,e)=>P.readdir(s,e));var He=(s,t,e,i)=>{P[ol](s,t,e,cl(s,t,e,r=>{i(r&&r.code!=="ENOENT"?r:null)}))},Mn=(s,t,e,i,r)=>{if(typeof t=="string")return P.lstat(gt.resolve(s,t),(n,h)=>{if(n)return r(n.code!=="ENOENT"?n:null);h.name=t,Mn(s,h,e,i,r)});if(t.isDirectory())si(gt.resolve(s,t.name),e,i,n=>{if(n)return r(n);let h=gt.resolve(s,t.name);He(h,e,i,r)});else{let n=gt.resolve(s,t.name);He(n,e,i,r)}},si=(s,t,e,i)=>{Cn(s,{withFileTypes:!0},(r,n)=>{if(r){if(r.code==="ENOENT")return i();if(r.code!=="ENOTDIR"&&r.code!=="ENOTSUP")return i(r)}if(r||!n.length)return He(s,t,e,i);let h=n.length,o=null,l=c=>{if(!o){if(c)return i(o=c);if(--h==0)return He(s,t,e,i)}};n.forEach(c=>Mn(s,c,t,e,l))})},dl=(s,t,e,i)=>{if(typeof t=="string")try{let r=P.lstatSync(gt.resolve(s,t));r.name=t,t=r}catch(r){if(r.code==="ENOENT")return;throw r}t.isDirectory()&&Fn(gt.resolve(s,t.name),e,i),ei(gt.resolve(s,t.name),e,i)},Fn=(s,t,e)=>{let i;try{i=fl(s,{withFileTypes:!0})}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR"||r.code==="ENOTSUP")return ei(s,t,e);throw r}return i&&i.length&&i.forEach(r=>dl(s,r,t,e)),ei(s,t,e)};Bn.exports=si;si.sync=Fn});var zn=p((ba,ri)=>{"use strict";var Pn=In(),q=__fs$,We=__path$,qn=kn(),ii=class extends Error{constructor(t,e){super("Cannot extract through symbolic link");this.path=e,this.symlink=t}get name(){return"SylinkError"}},ee=class extends Error{constructor(t,e){super(e+": Cannot cd into '"+t+"'");this.path=t,this.code=e}get name(){return"CwdError"}};ri.exports=(s,t,e)=>{let i=t.umask,r=t.mode|448,n=(r&i)!=0,h=t.uid,o=t.gid,l=typeof h=="number"&&typeof o=="number"&&(h!==t.processUid||o!==t.processGid),c=t.preserve,a=t.unlink,u=t.cache,f=t.cwd,m=(y,O)=>{y?e(y):(u.set(s,!0),O&&l?qn(O,h,o,Z=>m(Z)):n?q.chmod(s,r,e):e())};if(u&&u.get(s)===!0)return m();if(s===f)return q.stat(s,(y,O)=>{(y||!O.isDirectory())&&(y=new ee(s,y&&y.code||"ENOTDIR")),m(y)});if(c)return Pn(s,{mode:r}).then(y=>m(null,y),m);let _=We.relative(f,s).split(/\/|\\/);Ge(f,_,r,u,a,f,null,m)};var Ge=(s,t,e,i,r,n,h,o)=>{if(!t.length)return o(null,h);let l=t.shift(),c=s+"/"+l;if(i.get(c))return Ge(c,t,e,i,r,n,h,o);q.mkdir(c,e,Un(c,t,e,i,r,n,h,o))},Un=(s,t,e,i,r,n,h,o)=>l=>{if(l){if(l.path&&We.dirname(l.path)===n&&(l.code==="ENOTDIR"||l.code==="ENOENT"))return o(new ee(n,l.code));q.lstat(s,(c,a)=>{if(c)o(c);else if(a.isDirectory())Ge(s,t,e,i,r,n,h,o);else if(r)q.unlink(s,u=>{if(u)return o(u);q.mkdir(s,e,Un(s,t,e,i,r,n,h,o))});else{if(a.isSymbolicLink())return o(new ii(s,s+"/"+t.join("/")));o(l)}})}else h=h||s,Ge(s,t,e,i,r,n,h,o)};ri.exports.sync=(s,t)=>{let e=t.umask,i=t.mode|448,r=(i&e)!=0,n=t.uid,h=t.gid,o=typeof n=="number"&&typeof h=="number"&&(n!==t.processUid||h!==t.processGid),l=t.preserve,c=t.unlink,a=t.cache,u=t.cwd,f=y=>{a.set(s,!0),y&&o&&qn.sync(y,n,h),r&&q.chmodSync(s,i)};if(a&&a.get(s)===!0)return f();if(s===u){let y=!1,O="ENOTDIR";try{y=q.statSync(s).isDirectory()}catch(Z){O=Z.code}finally{if(!y)throw new ee(s,O)}f();return}if(l)return f(Pn.sync(s,i));let E=We.relative(u,s).split(/\/|\\/),_=null;for(let y=E.shift(),O=u;y&&(O+="/"+y);y=E.shift())if(!a.get(O))try{q.mkdirSync(O,i),_=_||O,a.set(O,!0)}catch(Z){if(Z.path&&We.dirname(Z.path)===u&&(Z.code==="ENOTDIR"||Z.code==="ENOENT"))return new ee(u,Z.code);let pi=q.lstatSync(O);if(pi.isDirectory()){a.set(O,!0);continue}else if(c){q.unlinkSync(O),q.mkdirSync(O,i),_=_||O,a.set(O,!0);continue}else if(pi.isSymbolicLink())return new ii(O,O+"/"+E.join("/"))}return f(_)}});var Gn=p((Oa,Wn)=>{var Hn=__assert$;Wn.exports=()=>{let s=new Map,t=new Map,{join:e}=__path$,i=a=>e(a).split(/[\\/]/).slice(0,-1).reduce((u,f)=>u.length?u.concat(e(u[u.length-1],f)):[f],[]),r=new Set,n=a=>{let u=t.get(a);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(f=>s.get(f)),dirs:[...u.dirs].map(f=>s.get(f))}},h=a=>{let{paths:u,dirs:f}=n(a);return u.every(m=>m[0]===a)&&f.every(m=>m[0]instanceof Set&&m[0].has(a))},o=a=>r.has(a)||!h(a)?!1:(r.add(a),a(()=>l(a)),!0),l=a=>{if(!r.has(a))return!1;let{paths:u,dirs:f}=t.get(a),m=new Set;return u.forEach(E=>{let _=s.get(E);Hn.equal(_[0],a),_.length===1?s.delete(E):(_.shift(),typeof _[0]=="function"?m.add(_[0]):_[0].forEach(y=>m.add(y)))}),f.forEach(E=>{let _=s.get(E);Hn(_[0]instanceof Set),_[0].size===1&&_.length===1?s.delete(E):_[0].size===1?(_.shift(),m.add(_[0])):_[0].delete(a)}),r.delete(a),m.forEach(E=>o(E)),!0};return{check:h,reserve:(a,u)=>{let f=new Set(a.map(m=>i(m)).reduce((m,E)=>m.concat(E)));return t.set(u,{dirs:f,paths:a}),a.forEach(m=>{let E=s.get(m);E?E.push(u):s.set(m,[u])}),f.forEach(m=>{let E=s.get(m);E?E[E.length-1]instanceof Set?E[E.length-1].add(u):E.push(new Set([u])):s.set(m,[new Set([u])])}),o(u)}}}});var jn=p((Ta,Zn)=>{var ml=__process$.env.__FAKE_PLATFORM__||__process$.platform,pl=ml==="win32",El=__global$.__FAKE_TESTING_FS__||__fs$,{O_CREAT:yl,O_TRUNC:Sl,O_WRONLY:Rl,UV_FS_O_FILEMAP:Yn=0}=El.constants,_l=pl&&!!Yn,wl=512*1024,gl=Yn|Sl|yl|Rl;Zn.exports=_l?s=>s<wl?gl:"w":()=>"w"});var fi=p((Na,oh)=>{"use strict";var bl=__assert$,Ol=qe(),R=__fs$,Tl=kt(),bt=__path$,Kn=zn(),Vn=ps(),Nl=Gn(),Dl=Es(),Xn=Symbol("onEntry"),ni=Symbol("checkFs"),$n=Symbol("checkFs2"),hi=Symbol("isReusable"),Q=Symbol("makeFs"),oi=Symbol("file"),li=Symbol("directory"),Ye=Symbol("link"),Qn=Symbol("symlink"),Jn=Symbol("hardlink"),th=Symbol("unsupported"),eh=Symbol("checkPath"),Ht=Symbol("mkdir"),A=Symbol("onError"),Ze=Symbol("pending"),sh=Symbol("pend"),Wt=Symbol("unpend"),ai=Symbol("ended"),ci=Symbol("maybeClose"),ui=Symbol("skip"),se=Symbol("doChown"),ie=Symbol("uid"),re=Symbol("gid"),ih=__crypto$,rh=jn(),je=()=>{throw new Error("sync function called cb somehow?!?")},Ll=(s,t)=>{if(__process$.platform!=="win32")return R.unlink(s,t);let e=s+".DELETE."+ih.randomBytes(16).toString("hex");R.rename(s,e,i=>{if(i)return t(i);R.unlink(e,t)})},Al=s=>{if(__process$.platform!=="win32")return R.unlinkSync(s);let t=s+".DELETE."+ih.randomBytes(16).toString("hex");R.renameSync(s,t),R.unlinkSync(t)},nh=(s,t,e)=>s===s>>>0?s:t===t>>>0?t:e,Ke=class extends Ol{constructor(t){if(t||(t={}),t.ondone=e=>{this[ai]=!0,this[ci]()},super(t),this.reservations=Nl(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[Ze]=0,this[ai]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=__process$.getuid&&__process$.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&__process$.getuid?__process$.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&__process$.getgid?__process$.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||__process$.platform==="win32",this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=bt.resolve(t.cwd||__process$.cwd()),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:__process$.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",e=>this[Xn](e))}warn(t,e,i={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(i.recoverable=!1),super.warn(t,e,i)}[ci](){this[ai]&&this[Ze]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[eh](t){if(this.strip){let e=t.path.split(/\/|\\/);if(e.length<this.strip||(t.path=e.slice(this.strip).join("/"),t.path===""&&t.type!=="Directory"&&t.type!=="GNUDumpDir"))return!1;if(t.type==="Link"){let i=t.linkpath.split(/\/|\\/);i.length>=this.strip&&(t.linkpath=i.slice(this.strip).join("/"))}}if(!this.preservePaths){let e=t.path;if(e.match(/(^|\/|\\)\.\.(\\|\/|$)/))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:e}),!1;let[i,r]=Dl(e);i&&(t.path=r,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:e}))}if(this.win32){let e=bt.win32.parse(t.path);t.path=e.root===""?Vn.encode(t.path):e.root+Vn.encode(t.path.substr(e.root.length))}return bt.isAbsolute(t.path)?t.absolute=t.path:t.absolute=bt.resolve(this.cwd,t.path),!0}[Xn](t){if(!this[eh](t))return t.resume();switch(bl.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[ni](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[th](t)}}[A](t,e){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:e}),this[Wt](),e.resume())}[Ht](t,e,i){Kn(t,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e,noChmod:this.noChmod},i)}[se](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[ie](t){return nh(this.uid,t.uid,this.processUid)}[re](t){return nh(this.gid,t.gid,this.processGid)}[oi](t,e){let i=t.mode&4095||this.fmode,r=new Tl.WriteStream(t.absolute,{flags:rh(t.size),mode:i,autoClose:!1});r.on("error",l=>{r.fd&&R.close(r.fd,()=>{}),r.write=()=>!0,this[A](l,t),e()});let n=1,h=l=>{if(l){r.fd&&R.close(r.fd,()=>{}),this[A](l,t),e();return}--n==0&&R.close(r.fd,c=>{c?this[A](c,t):this[Wt](),e()})};r.on("finish",l=>{let c=t.absolute,a=r.fd;if(t.mtime&&!this.noMtime){n++;let u=t.atime||new Date,f=t.mtime;R.futimes(a,u,f,m=>m?R.utimes(c,u,f,E=>h(E&&m)):h())}if(this[se](t)){n++;let u=this[ie](t),f=this[re](t);R.fchown(a,u,f,m=>m?R.chown(c,u,f,E=>h(E&&m)):h())}h()});let o=this.transform&&this.transform(t)||t;o!==t&&(o.on("error",l=>{this[A](l,t),e()}),t.pipe(o)),o.pipe(r)}[li](t,e){let i=t.mode&4095||this.dmode;this[Ht](t.absolute,i,r=>{if(r){this[A](r,t),e();return}let n=1,h=o=>{--n==0&&(e(),this[Wt](),t.resume())};t.mtime&&!this.noMtime&&(n++,R.utimes(t.absolute,t.atime||new Date,t.mtime,h)),this[se](t)&&(n++,R.chown(t.absolute,this[ie](t),this[re](t),h)),h()})}[th](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[Qn](t,e){this[Ye](t,t.linkpath,"symlink",e)}[Jn](t,e){this[Ye](t,bt.resolve(this.cwd,t.linkpath),"link",e)}[sh](){this[Ze]++}[Wt](){this[Ze]--,this[ci]()}[ui](t){this[Wt](),t.resume()}[hi](t,e){return t.type==="File"&&!this.unlink&&e.isFile()&&e.nlink<=1&&__process$.platform!=="win32"}[ni](t){this[sh]();let e=[t.path];t.linkpath&&e.push(t.linkpath),this.reservations.reserve(e,i=>this[$n](t,i))}[$n](t,e){if(t.type!=="Directory")for(let i of this.dirCache.keys())(i===t.absolute||i.indexOf(t.absolute+"/")===0||i.indexOf(t.absolute+"\\")===0)&&this.dirCache.delete(i);this[Ht](bt.dirname(t.absolute),this.dmode,i=>{if(i){this[A](i,t),e();return}R.lstat(t.absolute,(r,n)=>{n&&(this.keep||this.newer&&n.mtime>t.mtime)?(this[ui](t),e()):r||this[hi](t,n)?this[Q](null,t,e):n.isDirectory()?t.type==="Directory"?!this.noChmod&&(!t.mode||(n.mode&4095)===t.mode)?this[Q](null,t,e):R.chmod(t.absolute,t.mode,h=>this[Q](h,t,e)):R.rmdir(t.absolute,h=>this[Q](h,t,e)):Ll(t.absolute,h=>this[Q](h,t,e))})})}[Q](t,e,i){if(t){this[A](t,e),i();return}switch(e.type){case"File":case"OldFile":case"ContiguousFile":return this[oi](e,i);case"Link":return this[Jn](e,i);case"SymbolicLink":return this[Qn](e,i);case"Directory":case"GNUDumpDir":return this[li](e,i)}}[Ye](t,e,i,r){R[i](e,t.absolute,n=>{n?this[A](n,t):(this[Wt](),t.resume()),r()})}},hh=class extends Ke{[ni](t){if(t.type!=="Directory")for(let i of this.dirCache.keys())(i===t.absolute||i.indexOf(t.absolute+"/")===0||i.indexOf(t.absolute+"\\")===0)&&this.dirCache.delete(i);let e=this[Ht](bt.dirname(t.absolute),this.dmode,je);if(e)return this[A](e,t);try{let i=R.lstatSync(t.absolute);if(this.keep||this.newer&&i.mtime>t.mtime)return this[ui](t);if(this[hi](t,i))return this[Q](null,t,je);try{return i.isDirectory()?t.type==="Directory"?!this.noChmod&&t.mode&&(i.mode&4095)!==t.mode&&R.chmodSync(t.absolute,t.mode):R.rmdirSync(t.absolute):Al(t.absolute),this[Q](null,t,je)}catch(r){return this[A](r,t)}}catch(i){return this[Q](null,t,je)}}[oi](t,e){let i=t.mode&4095||this.fmode,r=o=>{let l;try{R.closeSync(n)}catch(c){l=c}(o||l)&&this[A](o||l,t)},n;try{n=R.openSync(t.absolute,rh(t.size),i)}catch(o){return r(o)}let h=this.transform&&this.transform(t)||t;h!==t&&(h.on("error",o=>this[A](o,t)),t.pipe(h)),h.on("data",o=>{try{R.writeSync(n,o,0,o.length)}catch(l){r(l)}}),h.on("end",o=>{let l=null;if(t.mtime&&!this.noMtime){let c=t.atime||new Date,a=t.mtime;try{R.futimesSync(n,c,a)}catch(u){try{R.utimesSync(t.absolute,c,a)}catch(f){l=u}}}if(this[se](t)){let c=this[ie](t),a=this[re](t);try{R.fchownSync(n,c,a)}catch(u){try{R.chownSync(t.absolute,c,a)}catch(f){l=l||u}}}r(l)})}[li](t,e){let i=t.mode&4095||this.dmode,r=this[Ht](t.absolute,i);if(r)return this[A](r,t);if(t.mtime&&!this.noMtime)try{R.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch(n){}if(this[se](t))try{R.chownSync(t.absolute,this[ie](t),this[re](t))}catch(n){}t.resume()}[Ht](t,e){try{return Kn.sync(t,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e})}catch(i){return i}}[Ye](t,e,i,r){try{R[i+"Sync"](e,t.absolute),t.resume()}catch(n){return this[A](n,t)}}};Ke.Sync=hh;oh.exports=Ke});var fh=p((Da,uh)=>{"use strict";var Il=Ot(),Ve=fi(),lh=__fs$,ah=kt(),ch=__path$,di=js();uh.exports=(s,t,e)=>{typeof s=="function"?(e=s,t=null,s={}):Array.isArray(s)&&(t=s,s={}),typeof t=="function"&&(e=t,t=null),t?t=Array.from(t):t=[];let i=Il(s);if(i.sync&&typeof e=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof e=="function")throw new TypeError("callback only supported with file option");return t.length&&vl(i,t),i.file&&i.sync?xl(i):i.file?Cl(i,e):i.sync?Ml(i):Fl(i)};var vl=(s,t)=>{let e=new Map(t.map(n=>[di(n),!0])),i=s.filter,r=(n,h)=>{let o=h||ch.parse(n).root||".",l=n===o?!1:e.has(n)?e.get(n):r(ch.dirname(n),o);return e.set(n,l),l};s.filter=i?(n,h)=>i(n,h)&&r(di(n)):n=>r(di(n))},xl=s=>{let t=new Ve.Sync(s),e=s.file,i=lh.statSync(e),r=s.maxReadSize||16*1024*1024;new ah.ReadStreamSync(e,{readSize:r,size:i.size}).pipe(t)},Cl=(s,t)=>{let e=new Ve(s),i=s.maxReadSize||16*1024*1024,r=s.file,n=new Promise((h,o)=>{e.on("error",o),e.on("close",h),lh.stat(r,(l,c)=>{if(l)o(l);else{let a=new ah.ReadStream(r,{readSize:i,size:c.size});a.on("error",o),a.pipe(e)}})});return t?n.then(t,t):n},Ml=s=>new Ve.Sync(s),Fl=s=>new Ve(s)});var mi=p(T=>{"use strict";T.c=T.create=Vr();T.r=T.replace=Xs();T.t=T.list=Ue();T.u=T.update=nn();T.x=T.extract=fh();T.Pack=De();T.Unpack=fi();T.Parse=qe();T.ReadEntry=ce();T.WriteEntry=Ts();T.Header=Lt();T.Pax=de();T.types=as()});var Bl=Ei(mi()),kl=Ei(mi()),{create:Aa,update:Ia,Pack:va,Unpack:xa,types:Ca,replace:Ma,extract:Fa,WriteEntry:Ba,Header:ka,t:Pa,x:qa,Parse:Ua,Pax:za,c:Ha,r:Wa,list:Ga,u:Ya,ReadEntry:Za}=Bl;var export_default=kl.default;export{ka as Header,va as Pack,Ua as Parse,za as Pax,Za as ReadEntry,xa as Unpack,Ba as WriteEntry,Ha as c,Aa as create,export_default as default,Fa as extract,Ga as list,Wa as r,Ma as replace,Pa as t,Ca as types,Ya as u,Ia as update,qa as x};